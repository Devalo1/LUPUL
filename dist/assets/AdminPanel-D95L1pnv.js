import{a as e,j as t,d as a,i as r}from"./index-wFNFqtXh.js";import{u as i,b as s}from"./vendor-BbhD7xee.js";import{Q as l,u as n,q as c,t as o,N as d,M as u}from"./firebase-Bc5mL6iy.js";const m=()=>{const{user:m,loading:x}=e(),g=i(),[b,p]=s.useState(!1),[h,y]=s.useState(!0),[f,j]=s.useState(null),[v,N]=s.useState(!1),[w,S]=s.useState(null),[k,C]=s.useState({title:"",description:"",date:"",time:"",location:"",imageUrl:"",capacity:0}),[A,z]=s.useState([]),[D,E]=s.useState([]),[I,F]=s.useState(!1),[P,O]=s.useState(!1),[U,L]=s.useState({name:"",description:"",price:0,image:"",inStock:!0}),[T,R]=s.useState(null),[M,$]=s.useState(null),[q,B]=s.useState([]),[G,Q]=s.useState(!1),[V,W]=s.useState({title:"",date:(new Date).toISOString().substr(0,10),author:"",preview:"",content:""}),[H,J]=s.useState(null),[K,X]=s.useState([]),[Y,Z]=s.useState(!1);s.useEffect((()=>{x||(async()=>{if(m)try{const e=await r(m.uid);p(e),e||g("/",{replace:!0})}catch(e){g("/",{replace:!0})}finally{y(!1)}else g("/login",{replace:!0})})()}),[m,x,g]),s.useEffect((()=>{(async()=>{try{N(!0);const e=c(a,"events"),t=(await o(e)).docs.map((e=>({id:e.id,...e.data()})));z(t)}catch(e){S("A apărut o eroare la încărcarea evenimentelor.")}finally{N(!1)}})(),(async()=>{try{N(!0);const e=c(a,"products"),t=(await o(e)).docs.map((e=>({id:e.id,...e.data()})));E(t)}catch(e){S("A apărut o eroare la încărcarea produselor.")}finally{N(!1)}})(),(async()=>{try{if(N(!0),!a)throw new Error("Database connection error");const r=c(a,"articles");let i;try{i=await o(r)}catch(e){throw e}const s=[];for(const e of i.docs)try{const t=e.data();s.push({id:e.id,title:t.title||"Untitled",date:t.date||(new Date).toLocaleDateString("ro-RO"),author:t.author||"Unknown Author",preview:t.preview||"",content:t.content||"",createdAt:t.createdAt||(new Date).toISOString()})}catch(t){}B(s),S(null)}catch(r){S("A apărut o eroare la încărcarea articolelor. Verificați conexiunea la internet și reîncărcați pagina."),B([])}finally{N(!1)}})()}),[]);const _=e=>{const t=e.toLowerCase();return t.includes("dulceață")||t.includes("miere")||t.includes("zacuscă")||t.includes("afine")?"traditionale":t.includes("supliment")||t.includes("vitamină")||t.includes("mineral")?"suplimente":t.includes("ceai")||t.includes("infuzie")?"ceaiuri":t.includes("plantă")||t.includes("iarbă")||t.includes("medicinal")?"plante-medicinale":"diverse"},ee=e=>{const{name:t,value:a}=e.target;C((e=>({...e,[t]:a})))};return x||h?t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Se încarcă..."}):b?t.jsxs("div",{className:"container mx-auto px-4 py-8 bg-gray-100",children:[t.jsx("h1",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Panou de Administrare"}),f&&t.jsx("div",{className:"mb-4 p-4 bg-green-100 text-green-700 rounded-md",children:f}),w&&t.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-md",children:w}),t.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[t.jsx("button",{onClick:()=>{F(!I),O(!1),Q(!1),Z(!1)},className:"px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Adaugă Eveniment"}),t.jsx("button",{onClick:()=>{O(!P),F(!1),Q(!1),Z(!1)},className:"px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Adaugă Produs"}),t.jsx("button",{onClick:()=>{Q(!G),F(!1),O(!1),Z(!1)},className:"px-6 py-3 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 transition-colors",children:"Adaugă Scrisoare"}),t.jsx("button",{onClick:()=>{Z(!Y),F(!1),O(!1),Q(!1),Y||(async()=>{try{N(!0);const e=c(a,"appointments"),t=(await o(e)).docs.map((e=>({id:e.id,...e.data()})));X(t)}catch(e){S("A apărut o eroare la încărcarea programărilor.")}finally{N(!1)}})()},className:"px-6 py-3 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors",children:"Gestionează Programări"})]}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Lista Evenimentelor"}),v?t.jsx("div",{className:"text-center text-gray-700",children:"Se încarcă evenimentele..."}):0===A.length?t.jsx("div",{className:"text-center text-gray-700 bg-white p-4 rounded-lg shadow-md",children:"Nu există evenimente disponibile."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map((e=>t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[t.jsx("h3",{className:"text-lg font-semibold mb-2 text-gray-800",children:e.title}),t.jsx("p",{className:"text-sm text-gray-700 mb-4",children:e.description}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("button",{onClick:()=>(e=>{C({title:e.title||"",description:e.description||"",date:e.date||"",time:e.time||"",location:e.location||"",imageUrl:e.imageUrl||"",capacity:e.capacity||0}),$(e.id),F(!0),O(!1),Q(!1),Z(!1),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Editează"}),t.jsx("button",{onClick:()=>(async e=>{if(m){if(window.confirm("Ești sigur că vrei să ștergi acest eveniment?"))try{N(!0),await l(n(a,"events",e)),z((t=>t.filter((t=>t.id!==e)))),j("Evenimentul a fost șters cu succes.")}catch(t){"permission-denied"===t.code?S("Nu ai permisiunea de a șterge acest eveniment."):S("A apărut o eroare la ștergerea evenimentului.")}finally{N(!1)}}else S("Trebuie să fii autentificat pentru a șterge un eveniment.")})(e.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Șterge"})]})]},e.id)))}),t.jsx("hr",{className:"my-6 border-t-2 border-gray-300"}),I&&t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:M?"Editează Eveniment":"Creare Eveniment Nou"}),t.jsxs("p",{className:"mb-6 text-gray-700",children:["Completează formularul de mai jos pentru a ",M?"edita":"crea"," un eveniment."]}),t.jsxs("form",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-medium mb-2",children:"Titlu Eveniment"}),t.jsx("input",{type:"text",id:"title",name:"title",placeholder:"Ex: Workshop de dezvoltare personală",value:k.title,onChange:ee,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-gray-700 font-medium mb-2",children:"Descriere"}),t.jsx("textarea",{id:"description",name:"description",placeholder:"Descrierea detaliată a evenimentului...",value:k.description,onChange:ee,rows:5,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date",className:"block text-gray-700 font-medium mb-2",children:"Data"}),t.jsx("input",{type:"date",id:"date",name:"date",value:k.date,onChange:ee,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"time",className:"block text-gray-700 font-medium mb-2",children:"Ora"}),t.jsx("input",{type:"time",id:"time",name:"time",value:k.time,onChange:ee,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"location",className:"block text-gray-700 font-medium mb-2",children:"Locație"}),t.jsx("input",{type:"text",id:"location",name:"location",placeholder:"Ex: Centrul Cultural, București",value:k.location,onChange:ee,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"imageUrl",className:"block text-gray-700 font-medium mb-2",children:"URL Imagine"}),t.jsx("input",{type:"text",id:"imageUrl",name:"imageUrl",placeholder:"Ex: /images/eveniment.jpg",value:k.imageUrl,onChange:ee,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"capacity",className:"block text-gray-700 font-medium mb-2",children:"Capacitate (nr. de participanți)"}),t.jsx("input",{type:"number",id:"capacity",name:"capacity",min:"1",value:k.capacity,onChange:ee,className:"w-full px-4 py-3 border border-gray-300 bg-white text-gray-900 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex space-x-4 mt-6",children:[t.jsx("button",{onClick:M?async()=>{if(M){N(!0),S(null);try{const e=n(a,"events",M);await d(e,{...k,updatedAt:(new Date).toISOString()}),z(A.map((e=>e.id===M?{...e,...k}:e))),j("Evenimentul a fost actualizat cu succes!"),C({title:"",description:"",date:"",time:"",location:"",imageUrl:"",capacity:0}),$(null),F(!1)}catch(e){S(e.message||"A apărut o eroare la actualizarea evenimentului.")}finally{N(!1)}}}:async()=>{N(!0),S(null);try{const e=c(a,"events"),t=await u(e,{...k,createdAt:(new Date).toISOString(),registeredUsers:[],category:"custom"});j(`Eveniment adăugat cu succes! ID: ${t.id}`)}catch(e){S(e.message||"A apărut o eroare la adăugarea evenimentului")}finally{N(!1)}},disabled:v,className:"flex-1 py-3 bg-blue-600 text-white text-lg font-bold rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:v?"Se procesează...":M?"Actualizează Eveniment":"Creează Eveniment"}),M&&t.jsx("button",{onClick:()=>{C({title:"",description:"",date:"",time:"",location:"",imageUrl:"",capacity:0}),$(null),F(!1)},className:"px-6 py-3 bg-gray-300 text-gray-800 text-lg font-bold rounded-md hover:bg-gray-400 transition-colors",children:"Anulează"})]})]}),P&&t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:T?"Editează Produs":"Adaugă Produs Nou"}),t.jsxs("p",{className:"mb-6 text-gray-700",children:["Completează formularul de mai jos pentru a ",T?"edita":"adăuga"," un produs."]}),t.jsxs("form",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:"Nume Produs"}),t.jsx("input",{type:"text",id:"name",name:"name",placeholder:"Ex: Miere de Munte",value:U.name,onChange:e=>L({...U,name:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-gray-700 font-medium mb-2",children:"Descriere"}),t.jsx("textarea",{id:"description",name:"description",placeholder:"Descrierea detaliată a produsului...",value:U.description,onChange:e=>L({...U,description:e.target.value}),rows:5,className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"price",className:"block text-gray-700 font-medium mb-2",children:"Preț"}),t.jsx("input",{type:"number",id:"price",name:"price",placeholder:"Ex: 50",value:U.price,onChange:e=>L({...U,price:parseFloat(e.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"image",className:"block text-gray-700 font-medium mb-2",children:"URL Imagine"}),t.jsx("input",{type:"text",id:"image",name:"image",placeholder:"Ex: /images/product.jpg",value:U.image,onChange:e=>L({...U,image:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"inStock",className:"block text-gray-700 font-medium mb-2",children:"În Stoc"}),t.jsxs("select",{id:"inStock",name:"inStock",value:U.inStock?"true":"false",onChange:e=>L({...U,inStock:"true"===e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"true",children:"Da"}),t.jsx("option",{value:"false",children:"Nu"})]})]})]}),t.jsxs("div",{className:"flex space-x-4 mt-6",children:[t.jsx("button",{onClick:T?async()=>{if(T){N(!0),S(null);try{const e=n(a,"products",T);await d(e,{...U,updatedAt:(new Date).toISOString()}),E(D.map((e=>e.id===T?{...e,...U}:e))),j("Produsul a fost actualizat cu succes!"),L({name:"",description:"",price:0,image:"",inStock:!0}),R(null),O(!1)}catch(e){S(e.message||"Nu ai permisiunea de a actualiza acest produs.")}finally{N(!1)}}}:async()=>{N(!0),S(null);try{if(U.name.toLowerCase().includes("afine")||"dulceață de afine"===U.name.toLowerCase()){const e=c(a,"products");await u(e,{...U,id:"dulceata-afine",category:"traditionale",createdAt:(new Date).toISOString()}),j("Dulceața de Afine a fost adăugată cu succes!")}else{const e=c(a,"products");await u(e,{...U,inStock:!1,category:_(U.name),createdAt:(new Date).toISOString()}),j(`Produsul "${U.name}" a fost adăugat, dar este marcat ca indisponibil.`)}L({name:"",description:"",price:0,image:"",inStock:!0}),O(!1);const e=c(a,"products"),t=(await o(e)).docs.map((e=>({id:e.id,...e.data()})));E(t)}catch(e){S(e.message||"A apărut o eroare la adăugarea produsului.")}finally{N(!1)}},disabled:v,className:"flex-1 py-3 bg-blue-600 text-white text-lg font-bold rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:v?"Se procesează...":T?"Actualizează Produs":"Adaugă Produs"}),T&&t.jsx("button",{onClick:()=>{L({name:"",description:"",price:0,image:"",inStock:!0}),R(null),O(!1)},className:"px-6 py-3 bg-gray-300 text-gray-800 text-lg font-bold rounded-md hover:bg-gray-400 transition-colors",children:"Anulează"})]})]}),t.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Lista Produselor"}),v?t.jsx("div",{className:"text-center text-gray-700",children:"Se încarcă produsele..."}):0===D.length?t.jsx("div",{className:"text-center text-gray-700 bg-white p-4 rounded-lg shadow-md",children:"Nu există produse disponibile."}):t.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md",children:t.jsxs("table",{className:"min-w-full border border-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-200",children:[t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Imagine"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Nume"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Preț"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Stoc"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Acțiuni"})]})}),t.jsx("tbody",{children:D.map((e=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4 border-b",children:t.jsx("img",{src:e.image||"/images/default-product.jpg",alt:e.name,className:"w-16 h-16 object-cover rounded"})}),t.jsx("td",{className:"py-3 px-4 border-b text-gray-800",children:e.name}),t.jsxs("td",{className:"py-3 px-4 border-b text-gray-800",children:[void 0!==e.price?e.price.toFixed(2):"0.00"," lei"]}),t.jsx("td",{className:"py-3 px-4 border-b",children:t.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+(e.inStock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.inStock?"În Stoc":"Indisponibil"})}),t.jsxs("td",{className:"py-3 px-4 border-b",children:[t.jsx("button",{onClick:()=>(e=>{L({name:e.name||"",description:e.description||"",price:e.price||0,image:e.image||"",inStock:void 0===e.inStock||e.inStock}),R(e.id),O(!0),F(!1),Q(!1),Z(!1),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"text-blue-600 hover:text-blue-800 mr-2",children:"Editează"}),t.jsx("button",{onClick:async()=>{if(window.confirm("Ești sigur că vrei să ștergi acest produs?"))try{await l(n(a,"products",e.id)),E(D.filter((t=>t.id!==e.id))),j("Produsul a fost șters cu succes!")}catch(t){S("Nu ai permisiunea de a șterge acest produs.")}},className:"text-red-600 hover:text-red-800",children:"Șterge"})]})]},e.id)))})]})}),G&&t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:H?"Editează Scrisoarea":"Adaugă Scrisoare Nouă"}),t.jsxs("p",{className:"mb-6 text-gray-700",children:["Completează formularul de mai jos pentru a ",H?"edita":"adăuga"," o scrisoare pentru utilizatori."]}),t.jsxs("form",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-medium mb-2",children:"Titlul Scrisorii"}),t.jsx("input",{type:"text",id:"title",name:"title",placeholder:"Ex: Importanța sănătății mentale în era digitală",value:V.title,onChange:e=>W({...V,title:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"date",className:"block text-gray-700 font-medium mb-2",children:"Data"}),t.jsx("input",{type:"date",id:"date",name:"date",value:V.date,onChange:e=>W({...V,date:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"author",className:"block text-gray-700 font-medium mb-2",children:"Autor"}),t.jsx("input",{type:"text",id:"author",name:"author",placeholder:"Ex: Dr. Ana Popescu",value:V.author,onChange:e=>W({...V,author:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"preview",className:"block text-gray-700 font-medium mb-2",children:"Previzualizare (scurtă descriere)"}),t.jsx("input",{type:"text",id:"preview",name:"preview",placeholder:"O scurtă descriere care va apărea în lista de scrisori...",value:V.preview,onChange:e=>W({...V,preview:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"content",className:"block text-gray-700 font-medium mb-2",children:"Conținutul Scrisorii"}),t.jsx("textarea",{id:"content",name:"content",placeholder:"Conținutul complet al scrisorii...",value:V.content,onChange:e=>W({...V,content:e.target.value}),rows:10,className:"w-full px-4 py-3 border border-gray-300 bg-white rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Poți folosi sintaxa Markdown pentru formatare. De exemplu, **text** pentru bold, *text* pentru italic."})]})]}),t.jsxs("div",{className:"flex space-x-4 mt-6",children:[t.jsx("button",{onClick:H?async()=>{if(H){N(!0),S(null);try{const e=n(a,"articles",H);await d(e,{...V,updatedAt:(new Date).toISOString()}),B(q.map((e=>e.id===H?{...e,...V}:e))),j("Articolul a fost actualizat cu succes!"),W({title:"",date:(new Date).toISOString().substr(0,10),author:"",preview:"",content:""}),J(null),Q(!1)}catch(e){S(e.message||"A apărut o eroare la actualizarea articolului.")}finally{N(!1)}}}:async()=>{if(V.title.trim())if(V.content.trim()){N(!0),S(null);try{if(!a)throw new Error("Database connection error");const e={title:V.title.trim()||"Untitled",date:V.date||(new Date).toLocaleDateString("ro-RO"),author:V.author.trim()||"Autor necunoscut",preview:V.preview.trim()||V.content.substring(0,100)+"...",content:V.content.trim(),createdAt:(new Date).toISOString()},t=c(a,"articles"),r=await u(t,e);B((t=>[...t,{id:r.id,...e}])),j(`Articolul a fost adăugat cu succes! ID: ${r.id}`),W({title:"",date:(new Date).toISOString().substr(0,10),author:"",preview:"",content:""}),Q(!1)}catch(e){S(e instanceof Error?e.message:"A apărut o eroare la adăugarea articolului.")}finally{N(!1)}}else S("Conținutul scrisorii este obligatoriu");else S("Titlul scrisorii este obligatoriu")},disabled:v,className:"flex-1 py-3 bg-blue-600 text-white text-lg font-bold rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:v?"Se procesează...":H?"Actualizează Scrisoarea":"Adaugă Scrisoarea"}),H&&t.jsx("button",{onClick:()=>{W({title:"",date:(new Date).toISOString().substr(0,10),author:"",preview:"",content:""}),J(null),Q(!1)},className:"px-6 py-3 bg-gray-300 text-gray-800 text-lg font-bold rounded-md hover:bg-gray-400 transition-colors",children:"Anulează"})]})]}),t.jsx("h2",{className:"text-2xl font-bold mb-4 mt-8 text-gray-800",children:"Lista Scrisorilor"}),v?t.jsx("div",{className:"text-center text-gray-700",children:"Se încarcă scrisorile..."}):0===q.length?t.jsx("div",{className:"text-center text-gray-700 bg-white p-4 rounded-lg shadow-md",children:"Nu există scrisori disponibile."}):t.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md",children:t.jsxs("table",{className:"min-w-full border border-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-200",children:[t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Titlu"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Autor"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Data"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Acțiuni"})]})}),t.jsx("tbody",{children:q.map((e=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4 border-b text-gray-800",children:e.title}),t.jsx("td",{className:"py-3 px-4 border-b text-gray-800",children:e.author}),t.jsx("td",{className:"py-3 px-4 border-b text-gray-800",children:e.date}),t.jsxs("td",{className:"py-3 px-4 border-b",children:[t.jsx("button",{onClick:()=>(e=>{W({title:e.title||"",date:e.date||(new Date).toISOString().substr(0,10),author:e.author||"",preview:e.preview||"",content:e.content||""}),J(e.id),Q(!0),F(!1),O(!1),Z(!1),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"text-blue-600 hover:text-blue-800 mr-2",children:"Editează"}),t.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Ești sigur că vrei să ștergi acest articol?"))try{N(!0),await l(n(a,"articles",e)),B((t=>t.filter((t=>t.id!==e)))),j("Articolul a fost șters cu succes.")}catch(t){S("A apărut o eroare la ștergerea articolului.")}finally{N(!1)}})(e.id),className:"text-red-600 hover:text-red-800",children:"Șterge"})]})]},e.id)))})]})}),Y&&t.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Lista Programărilor"}),v?t.jsx("div",{className:"text-center text-gray-700",children:"Se încarcă programările..."}):0===K.length?t.jsx("div",{className:"text-center text-gray-700 bg-white p-4 rounded-lg shadow-md",children:"Nu există programări disponibile."}):t.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md",children:t.jsxs("table",{className:"min-w-full border border-gray-200",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-200",children:[t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Client"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Serviciu"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Data"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Status"}),t.jsx("th",{className:"py-3 px-4 border-b text-left text-gray-700",children:"Acțiuni"})]})}),t.jsx("tbody",{children:K.map((e=>t.jsxs("tr",{className:"hover:bg-gray-50",children:[t.jsxs("td",{className:"py-3 px-4 border-b text-gray-800",children:[e.userName||"N/A"," ",t.jsx("br",{}),t.jsx("span",{className:"text-sm text-gray-500",children:e.userEmail})]}),t.jsx("td",{className:"py-3 px-4 border-b text-gray-800",children:e.serviceName}),t.jsx("td",{className:"py-3 px-4 border-b text-gray-800",children:new Date(1e3*e.date.seconds).toLocaleString("ro-RO")}),t.jsx("td",{className:"py-3 px-4 border-b",children:t.jsx("span",{className:"px-2 py-1 rounded-full text-xs "+("scheduled"===e.status?"bg-blue-100 text-blue-800":"completed"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),t.jsx("td",{className:"py-3 px-4 border-b",children:t.jsx("button",{onClick:()=>(async e=>{if(window.confirm("Ești sigur că vrei să ștergi această programare?"))try{N(!0),await l(n(a,"appointments",e)),X((t=>t.filter((t=>t.id!==e)))),j("Programarea a fost ștearsă cu succes.")}catch(t){S("A apărut o eroare la ștergerea programării.")}finally{N(!1)}})(e.id),className:"text-red-600 hover:text-red-800",children:"Șterge"})})]},e.id)))})]})})]})]}):t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Nu aveți permisiunea de a accesa această pagină."})};export{m as default};
