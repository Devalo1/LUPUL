import{j as e}from"./index-Bwkz9jAa.js";import{c as t,b as s,L as r}from"./vendor-ClDHXAES.js";import{z as a,q as l,A as i,B as m,t as n}from"./index-B5L7Nnkl.js";import"./firebase-DUCcfN4Q.js";const c=()=>{const c=t().state,[d,o]=s.useState(null),[u,x]=s.useState(!1);if(s.useEffect((()=>{if(c&&c.orderNumber)o(c);else{const t=localStorage.getItem("lastOrderDetails");if(t)try{const e=JSON.parse(t);o(e)}catch(e){o({orderNumber:`ORDER-${Math.floor(1e4*Math.random())}`,date:(new Date).toISOString()})}else o({orderNumber:`ORDER-${Math.floor(1e4*Math.random())}`,date:(new Date).toISOString()})}}),[c]),!d)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Se încarcă detaliile comenzii..."})]})})});const b=d.date?new Date(d.date).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):(new Date).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),h="localhost"===window.location.hostname;return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full border border-blue-100",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4",children:e.jsx(a,{className:"w-8 h-8 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-3",children:"Comanda a fost finalizată cu succes!"}),e.jsx("div",{className:"bg-blue-50 p-6 rounded-lg mb-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-700 mb-1 font-medium",children:"Numărul comenzii:"}),e.jsx("p",{className:"text-xl font-semibold text-blue-800",children:d.orderNumber})]}),d.customerName&&e.jsxs("div",{className:"pt-2 border-t border-blue-100",children:[e.jsx("p",{className:"text-gray-700 mb-1 font-medium",children:"Client:"}),e.jsx("p",{className:"text-gray-800",children:d.customerName})]}),d.customerEmail&&e.jsxs("div",{className:"pt-2 border-t border-blue-100",children:[e.jsx("p",{className:"text-gray-700 mb-1 font-medium",children:"Email:"}),e.jsx("p",{className:"text-gray-800",children:d.customerEmail})]}),void 0!==d.totalAmount&&e.jsxs("div",{className:"pt-2 border-t border-blue-100",children:[e.jsx("p",{className:"text-gray-700 mb-1 font-medium",children:"Suma totală:"}),e.jsxs("p",{className:"text-xl font-semibold text-blue-800",children:[d.totalAmount.toFixed(2)," RON"]})]}),void 0!==d.items&&e.jsxs("div",{className:"pt-2 border-t border-blue-100",children:[e.jsx("p",{className:"text-gray-700 mb-1 font-medium",children:"Număr produse:"}),e.jsx("p",{className:"text-gray-800",children:d.items})]}),e.jsxs("div",{className:"pt-2 border-t border-blue-100",children:[e.jsx("p",{className:"text-gray-700 mb-1 font-medium",children:"Data comenzii:"}),e.jsx("p",{className:"text-gray-800",children:b})]})]})}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Îți mulțumim pentru cumpărături!"}),h&&e.jsxs("div",{className:"mt-2 mb-5",children:[e.jsxs("button",{onClick:()=>x(!u),className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 inline-flex items-center",children:[e.jsx(l,{className:"mr-2"}),u?"Ascunde simulare email":"Arată simulare email"]}),u&&e.jsxs("div",{className:"mt-4 bg-gray-100 p-4 rounded text-left",children:[e.jsx("h3",{className:"font-bold mb-2 text-gray-700",children:"Simulare Email (Mediu Dezvoltare)"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["În mediul de producție, un email real ar fi fost trimis la adresa ",e.jsx("span",{className:"font-medium",children:d.customerEmail||"client@example.com"})]}),e.jsx("p",{className:"text-sm text-blue-600 mb-2",children:"Verifică consola browserului pentru a vedea conținutul complet al email-ului simulat."}),e.jsxs("p",{className:"text-sm text-gray-700 mt-2",children:[e.jsx("strong",{children:"Notă:"})," Un email pentru administrator a fost simulat și trimis la ",e.jsx("span",{className:"font-medium",children:"lupulsicorbul@gmail.com"})," cu toate detaliile comenzii."]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded border border-blue-200 flex items-start",children:[e.jsx(i,{className:"text-blue-600 mr-2 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Informație:"})," Aceste simulări sunt vizibile doar în mediul de dezvoltare. În mediul de producție (pe site-ul live), sistemul va trimite automat email-uri reale către client și către administrator, fără această interfață de simulare."]})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs(r,{to:"/products",className:"py-3 px-4 text-center font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors duration-200 transform hover:scale-105 flex items-center justify-center",children:[e.jsx(m,{className:"mr-2"})," Continuă cumpărăturile"]}),e.jsxs(r,{to:"/user-home",className:"py-3 px-4 text-center font-medium text-blue-600 bg-white border border-blue-600 hover:bg-blue-50 rounded-md transition-colors duration-200 flex items-center justify-center",children:[e.jsx(n,{className:"mr-2"})," Înapoi la pagina contului meu"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6",children:e.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Dacă ai întrebări despre comanda ta, ne poți contacta la",e.jsx("a",{href:"mailto:lupulsicorbul@gmail.com",className:"text-blue-600 hover:underline",children:" lupulsicorbul@gmail.com"})]})})]})})};export{c as default};
