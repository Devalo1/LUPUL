import{a as e,j as t,d as a}from"./index-Bwkz9jAa.js";import{u as s,b as l}from"./vendor-ClDHXAES.js";import"./ThemeContext-DrZ0fxr9.js";import{q as r,t as i,u as n,A as o,N as c,Q as d,R as m,T as x}from"./firebase-DUCcfN4Q.js";import{n as u,o as h,p as b,q as g,r as f,s as p,t as j,u as v,v as N,w,x as y,y as C,j as k,k as I}from"./index-B5L7Nnkl.js";import{E as z}from"./ErrorMessage-BQ-WfWLX.js";const S=[{id:"default-1",title:"Bine ai venit în comunitatea noastră!",date:(new Date).toLocaleDateString("ro-RO"),author:"Echipa Lupul Corbul",preview:"Un mesaj special de bun venit pentru tine...",content:"Dragă prieten,\n\nTe întâmpinăm cu bucurie în comunitatea noastră! Suntem încântați că ai decis să ni te alături în această călătorie de dezvoltare personală și descoperire.\n\nÎn următoarele săptămâni, vei primi mai multe resurse și scrisori personalizate care te vor ghida în acest proces de transformare.\n\nCu apreciere,\nEchipa Lupul Corbul"}],D=({article:s,onClose:r})=>{var i,o,m,u;const[b,g]=l.useState(5),[z,S]=l.useState(""),[D,L]=l.useState(!1),[E,U]=l.useState(!1),[R,$]=l.useState(!1),[B,T]=l.useState(0),[M,P]=l.useState(0),[A,O]=l.useState(!1),q=l.useRef(null),{user:F}=e(),G=s.galleryImages&&s.galleryImages.length>0,H=async()=>{if(F){L(!0);try{const e=n(a,"articles",s.id),t={userId:F.uid,userName:F.displayName||F.email||"Utilizator anonim",comment:z,rating:b,createdAt:x.now()};await c(e,{feedback:d(t)}),U(!0),S(""),setTimeout((()=>{U(!1)}),5e3)}catch(e){}finally{L(!1)}}};l.useEffect((()=>{const e=()=>{if(q.current){const e=q.current,t=window.scrollY-e.offsetTop,a=e.scrollHeight,s=window.innerHeight,l=Math.min(Math.max(0,t/(a-s)*100),100);P(l)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]);const W=e=>e.split("\n\n").map(((e,a)=>e.startsWith("> ")?t.jsx("blockquote",{className:"my-6 p-4 border-l-4 border-yellow-400 bg-yellow-50 text-xl italic font-serif animate-fadeIn",children:e.substring(2)},a):e.startsWith("# ")?t.jsx("h3",{className:"text-2xl font-bold my-4 text-gray-800 animate-slideInUp",children:e.substring(2)},a):t.jsx("p",{className:"my-4 text-gray-700 leading-relaxed animate-fadeIn",children:e},a))),Q=e=>{T(e),$(!0),document.body.style.overflow="hidden"},V=()=>{$(!1),document.body.style.overflow="auto"},Y=e=>{if(!s.galleryImages)return;const t=s.galleryImages.length;T("next"===e?e=>(e+1)%t:e=>(e-1+t)%t)},J=()=>{O(!A)},K=()=>{navigator.share?navigator.share({title:s.title,text:s.preview,url:window.location.href}).catch((e=>{})):navigator.clipboard.writeText(window.location.href).then((()=>alert("Link copiat în clipboard!"))).catch((e=>{}))};return"overlay"===s.coverStyle?t.jsxs("div",{className:"letter-open animate-fadeIn",children:[t.jsx("div",{className:"fixed top-20 left-4 z-50",children:t.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-white/90 backdrop-blur-sm px-4 py-3 rounded-full shadow-lg hover:bg-amber-50 transition-all duration-300 hover:translate-x-1 group",title:"Înapoi la toate articolele",children:[t.jsx(v,{className:"text-amber-700 group-hover:scale-125 transition-transform"}),t.jsx("span",{className:"text-amber-900 font-medium",children:"Înapoi"})]})}),t.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex gap-2",children:[t.jsx("button",{onClick:J,className:"p-3 rounded-full shadow-lg transition-colors "+(A?"bg-yellow-400 text-white":"bg-white text-gray-700 hover:bg-gray-100"),title:A?"Elimină marcajul":"Marchează pentru citire ulterioară",children:t.jsx(p,{})}),t.jsx("button",{onClick:K,className:"bg-white p-3 rounded-full shadow-lg hover:bg-gray-100 transition-colors",title:"Distribuie",children:t.jsx(N,{className:"text-gray-700"})})]}),t.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-gray-200 z-50",children:t.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-out",style:{width:`${M}%`}})}),t.jsxs("div",{className:"bg-yellow-50 rounded-lg overflow-hidden my-4 shadow-xl max-w-4xl mx-auto transform transition-all duration-500 animate-slideInUp",children:[s.imageUrl?t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent",children:t.jsxs("div",{className:"p-8",children:[t.jsx("h4",{className:"text-3xl font-bold text-white mb-2 animate-slideInDown",children:s.title}),t.jsxs("div",{className:"flex justify-between text-sm text-white/80 mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(w,{className:"mr-1"}),s.date]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(j,{className:"mr-1"}),s.author]})]})]})}),t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full max-h-96 object-cover animate-kenBurns"})]}):t.jsxs("div",{className:"p-8 border-b border-yellow-200",children:[t.jsx("h4",{className:"text-3xl font-bold text-gray-800 mb-2 animate-slideInDown",children:s.title}),t.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(w,{className:"mr-1"}),s.date]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(j,{className:"mr-1"}),s.author]})]})]}),t.jsxs("div",{className:"p-8",children:[t.jsx("div",{ref:q,className:"letter-content text-lg",children:W(s.content)}),G&&t.jsxs("div",{className:"mt-8 pt-6 border-t border-yellow-200 animate-fadeIn",children:[t.jsxs("h5",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(C,{className:"mr-2"})," Galerie de imagini"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:null==(i=s.galleryImages)?void 0:i.map(((e,a)=>t.jsx("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 transform hover:scale-105 cursor-pointer",onClick:()=>Q(a),children:t.jsx("img",{src:e,alt:`${s.title} - Imagine ${a+1}`,className:"w-full h-48 object-cover",loading:"lazy"})},a)))})]}),s.tags&&s.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-2 border-t border-yellow-200 pt-4 mt-6 mb-6 animate-fadeIn",children:[t.jsx(h,{className:"mr-2 text-gray-600 self-center"}),s.tags.map(((e,a)=>t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs hover:bg-blue-200 transition-colors",children:e},a)))]}),t.jsxs("div",{className:"flex items-center justify-start gap-4 text-sm text-gray-600 mt-4 mb-6 animate-fadeIn",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(f,{className:"mr-1"}),s.readCount||0," vizualizări"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(y,{className:"mr-1"}),(null==(o=s.feedback)?void 0:o.length)||0," feedback-uri"]})]}),t.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6 animate-fadeIn",children:[t.jsxs("h5",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(y,{className:"mr-2"})," Lăsați-ne părerea dumneavoastră"]}),E?t.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded-md mb-4 flex items-center animate-pulse",children:[t.jsx(y,{className:"mr-2"}),"Mulțumim pentru feedback! Opinia dumneavoastră este importantă pentru noi."]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Evaluare"}),t.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map((e=>t.jsx("button",{type:"button",onClick:()=>g(e),className:"text-xl text-yellow-500 transition-transform hover:scale-125 focus:outline-none",children:e<=b?t.jsx(k,{}):t.jsx(I,{})},e)))})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentariu"}),t.jsx("textarea",{value:z,onChange:e=>S(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Împărtășiți-ne gândurile dumneavoastră despre acest articol..."})]}),t.jsx("button",{onClick:H,disabled:D||!z.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-all hover:shadow-lg "+(D||!z.trim()?"opacity-50 cursor-not-allowed":"transform hover:-translate-y-1"),children:D?"Se trimite...":"Trimite feedback"})]})]}),R&&s.galleryImages&&t.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:V,children:[t.jsx("button",{className:"absolute top-4 right-4 text-white text-2xl",onClick:V,children:"✕"}),t.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-4 rounded-full",onClick:e=>{e.stopPropagation(),Y("prev")},children:"←"}),t.jsx("img",{src:s.galleryImages[B],alt:`${s.title} - Imagine ${B+1}`,className:"max-h-[80vh] max-w-[90vw] object-contain animate-fadeIn",onClick:e=>e.stopPropagation()}),t.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-4 rounded-full",onClick:e=>{e.stopPropagation(),Y("next")},children:"→"}),t.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white",children:[B+1," / ",s.galleryImages.length]})]})]})]})]}):t.jsxs("div",{className:"letter-open animate-fadeIn",children:[t.jsx("div",{className:"fixed top-20 left-4 z-50",children:t.jsxs("button",{onClick:r,className:"flex items-center gap-2 bg-white/90 backdrop-blur-sm px-4 py-3 rounded-full shadow-lg hover:bg-amber-50 transition-all duration-300 hover:translate-x-1 group",title:"Înapoi la toate articolele",children:[t.jsx(v,{className:"text-amber-700 group-hover:scale-125 transition-transform"}),t.jsx("span",{className:"text-amber-900 font-medium",children:"Înapoi"})]})}),t.jsxs("div",{className:"fixed bottom-4 right-4 z-50 flex gap-2",children:[t.jsx("button",{onClick:J,className:"p-3 rounded-full shadow-lg transition-colors "+(A?"bg-yellow-400 text-white":"bg-white text-gray-700 hover:bg-gray-100"),title:A?"Elimină marcajul":"Marchează pentru citire ulterioară",children:t.jsx(p,{})}),t.jsx("button",{onClick:K,className:"bg-white p-3 rounded-full shadow-lg hover:bg-gray-100 transition-colors",title:"Distribuie",children:t.jsx(N,{className:"text-gray-700"})})]}),t.jsx("div",{className:"fixed top-0 left-0 right-0 h-1 bg-gray-200 z-50",children:t.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300 ease-out",style:{width:`${M}%`}})}),t.jsxs("div",{ref:q,className:"bg-[#fffdf0] shadow-xl rounded-lg p-8 my-4 max-w-4xl mx-auto border border-amber-100 animate-slideInUp",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.imageUrl&&t.jsx("div",{className:"md:w-1/3 animate-fadeIn",children:t.jsxs("div",{className:"sticky top-24",children:[t.jsx("div",{className:"overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow",children:t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full rounded-lg h-auto object-cover transform hover:scale-105 transition-transform duration-700"})}),t.jsxs("div",{className:"mt-4 bg-amber-50 rounded-lg p-4 border border-amber-100",children:[t.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Despre acest articol"}),t.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(w,{className:"mr-1"}),s.date]}),t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx(j,{className:"mr-1"}),s.author]})]}),t.jsxs("div",{className:"flex flex-col text-sm text-gray-600 pt-2 border-t border-amber-100",children:[t.jsxs("div",{className:"flex items-center mb-1",children:[t.jsx(f,{className:"mr-1"}),s.readCount||0," vizualizări"]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx(y,{className:"mr-1"}),(null==(m=s.feedback)?void 0:m.length)||0," feedback-uri"]})]})]})]})}),t.jsxs("div",{className:s.imageUrl?"md:w-2/3":"w-full",children:[t.jsx("h4",{className:"text-3xl font-serif font-bold text-amber-900 mb-4 leading-tight animate-slideInDown",children:s.title}),t.jsx("div",{className:"letter-content text-lg",children:W(s.content)}),s.tags&&s.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-2 border-t border-amber-200 pt-4 mt-6 mb-6 animate-fadeIn",children:[t.jsx(h,{className:"mr-2 text-amber-700 self-center"}),s.tags.map(((e,a)=>t.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-xs hover:bg-amber-200 transition-colors",children:e},a)))]})]})]}),G&&t.jsxs("div",{className:"mt-8 pt-6 border-t border-amber-200 animate-fadeIn",children:[t.jsxs("h5",{className:"font-semibold text-gray-800 mb-4 flex items-center",children:[t.jsx(C,{className:"mr-2"})," Galerie de imagini"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:null==(u=s.galleryImages)?void 0:u.map(((e,a)=>t.jsx("div",{className:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-all duration-500 transform hover:scale-105 cursor-pointer",onClick:()=>Q(a),children:t.jsx("img",{src:e,alt:`${s.title} - Imagine ${a+1}`,className:"w-full h-48 object-cover",loading:"lazy"})},a)))})]}),t.jsxs("div",{className:"border-t border-amber-200 pt-6 mt-8 animate-fadeIn",children:[t.jsxs("h5",{className:"font-serif font-semibold text-xl text-amber-900 mb-4 flex items-center",children:[t.jsx(y,{className:"mr-2"})," Lăsați-ne părerea dumneavoastră"]}),E?t.jsxs("div",{className:"bg-green-100 text-green-800 p-4 rounded-md mb-4 flex items-center animate-pulse",children:[t.jsx(y,{className:"mr-2"}),"Mulțumim pentru feedback! Opinia dumneavoastră este importantă pentru noi."]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Evaluare"}),t.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map((e=>t.jsx("button",{type:"button",onClick:()=>g(e),className:"text-xl text-amber-500 transition-transform hover:scale-125 focus:outline-none",children:e<=b?t.jsx(k,{}):t.jsx(I,{})},e)))})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Comentariu"}),t.jsx("textarea",{value:z,onChange:e=>S(e.target.value),rows:3,className:"w-full px-3 py-2 border border-amber-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-500 focus:border-amber-500 bg-white",placeholder:"Împărtășiți-ne gândurile dumneavoastră despre acest articol..."})]}),t.jsx("button",{onClick:H,disabled:D||!z.trim(),className:"px-4 py-2 bg-amber-600 text-white rounded-md hover:bg-amber-700 transition-all hover:shadow-lg "+(D||!z.trim()?"opacity-50 cursor-not-allowed":"transform hover:-translate-y-1"),children:D?"Se trimite...":"Trimite feedback"})]})]})]}),R&&s.galleryImages&&t.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:V,children:[t.jsx("button",{className:"absolute top-4 right-4 text-white text-2xl",onClick:V,children:"✕"}),t.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-4 rounded-full",onClick:e=>{e.stopPropagation(),Y("prev")},children:"←"}),t.jsx("img",{src:s.galleryImages[B],alt:`${s.title} - Imagine ${B+1}`,className:"max-h-[80vh] max-w-[90vw] object-contain animate-fadeIn",onClick:e=>e.stopPropagation()}),t.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 hover:bg-white/40 p-4 rounded-full",onClick:e=>{e.stopPropagation(),Y("next")},children:"→"}),t.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white",children:[B+1," / ",s.galleryImages.length]})]})]})},L=()=>{const{user:x,loading:v,isAuthenticated:N}=e(),w=s(),y=l.useRef(!1),[C,k]=l.useState(null),[I,L]=l.useState(S),[E,U]=l.useState(!0),[R,$]=l.useState(null),B=l.useRef(!1),T=(null==x?void 0:x.displayName)||"prieten",[M,P]=l.useState(""),[A,O]=l.useState(null),[q,F]=l.useState([]),[G,H]=l.useState([]);l.useEffect((()=>{v||N||y.current||(y.current=!0,w("/login",{replace:!0}))}),[v,N,w]),l.useEffect((()=>{const e=async(t=0)=>{if(!B.current&&!v&&N){B.current=!0;try{if(U(!0),$(null),!a)throw new Error("Database connection error");L(S);try{const e=r(a,"articles"),t=await i(e);if(!t.empty){const e=[];if(t.docs.forEach((t=>{try{const a=t.data();!0===a.published&&e.push({id:t.id,title:a.title||"Titlu lipsă",date:a.date||(new Date).toLocaleDateString("ro-RO"),author:a.author||"Autor necunoscut",preview:a.preview||(a.content?a.content.substring(0,100)+"...":"Previzualizare indisponibilă"),content:a.content||"Conținut indisponibil",imageUrl:a.imageUrl||void 0,readCount:a.readCount||0,feedback:a.feedback||[],tags:a.tags||[],readBy:a.readBy||[],published:!1!==a.published,coverStyle:a.coverStyle||"standard",galleryImages:a.galleryImages||[]})}catch(a){}})),e.length>0){const t=e.map((e=>{let t=e.content;return t=t.replace('${user?.displayName || "prieten"}',T),{...e,content:t}}));L(t);const a=t.flatMap((e=>e.tags||[]));return H([...new Set(a)]),void $(null)}}}catch(s){t<1&&(B.current=!1,setTimeout((()=>e(t+1)),3e3))}}catch(l){$("Nu s-au putut încărca articolele. Vă rugăm încercați din nou mai târziu.")}finally{U(!1)}}};N&&x&&!v&&e()}),[x,v,N,T]),l.useEffect((()=>{if(I.length>0){let e=[...I];if(M.trim()){const t=M.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.preview.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)||e.tags&&e.tags.some((e=>e.toLowerCase().includes(t)))))}A&&(e=e.filter((e=>e.tags&&e.tags.includes(A)))),F(e)}else F([])}),[I,M,A]);const W=async e=>{k(e),(async e=>{if(x)try{const t=n(a,"articles",e),s=await o(t);if(s.exists()){(s.data().readBy||[]).includes(x.uid)||(await c(t,{readCount:m(1),readBy:d(x.uid)}),L(I.map((t=>t.id===e?{...t,readCount:(t.readCount||0)+1,readBy:[...t.readBy||[],x.uid]}:t))))}}catch(t){}})(e)};if(v)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Se încarcă autentificarea..."});if(!N)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Se redirecționează către login..."});if(E&&0===I.length)return t.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Se încarcă articolele..."});const Q=e=>{var t;if(!x)return!1;const a=I.find((t=>t.id===e));return(null==(t=null==a?void 0:a.readBy)?void 0:t.includes(x.uid))||!1};return t.jsx("div",{className:"min-h-screen bg-gradient-to-b from-amber-50 via-yellow-50 to-orange-50 pt-20 pb-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"absolute top-0 left-0 w-full h-96 overflow-hidden -z-10 opacity-75",children:[t.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-amber-700/20 to-transparent"}),t.jsx("div",{className:"absolute top-0 right-0 w-1/2 h-36 bg-contain bg-no-repeat bg-right opacity-10",style:{backgroundImage:'url("/images/romanian-pattern.png")'}}),t.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-36 bg-contain bg-no-repeat bg-left opacity-10",style:{backgroundImage:'url("/images/romanian-pattern.png")'}})]}),t.jsx("div",{className:"mb-10 relative overflow-hidden",children:t.jsxs("div",{className:"bg-gradient-to-r from-amber-600 to-amber-800 rounded-2xl shadow-xl p-8 relative",children:[t.jsx("div",{className:"absolute top-0 right-0 w-full h-full bg-contain bg-no-repeat bg-right opacity-10",style:{backgroundImage:'url("/images/romanian-motif.svg")'}}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["Bun venit, ",(null==x?void 0:x.displayName)||(null==x?void 0:x.email)||"Utilizator","!"]}),t.jsx("p",{className:"text-amber-100 mb-4",children:"Descoperă ultimele noastre articole și resurse personalizate care te vor însoți în călătoria ta."}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsxs("div",{className:"bg-amber-900/20 text-amber-100 rounded-full px-4 py-1 flex items-center text-sm",children:[t.jsx("span",{className:"mr-2",children:"💌"}),I.length," articole disponibile"]}),t.jsxs("div",{className:"bg-amber-900/20 text-amber-100 rounded-full px-4 py-1 flex items-center text-sm",children:[t.jsx("span",{className:"mr-2",children:"📅"}),"Membru din ",x&&x.createdAt?new Date(x.createdAt).toLocaleDateString("ro-RO"):(new Date).toLocaleDateString("ro-RO")]})]})]})]})}),R&&t.jsx(z,{message:R,onRetry:()=>{B.current=!1,window.location.reload()}}),!C&&t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4 mb-6",children:[t.jsx("div",{className:"w-full md:w-1/2",children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Caută în articole...",value:M,onChange:e=>P(e.target.value),className:"w-full pl-10 pr-4 py-3 bg-white rounded-xl shadow-md border border-amber-100 focus:outline-none focus:ring-2 focus:ring-amber-400 transition-all"}),t.jsx(u,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-amber-400"})]})}),G.length>0&&t.jsx("div",{className:"w-full md:w-auto",children:t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsxs("span",{className:"flex items-center font-medium text-amber-800",children:[t.jsx(h,{className:"mr-1"})," Filtrează:"]}),G.map((e=>t.jsx("button",{onClick:()=>(e=>{O(A===e?null:e)})(e),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors "+(A===e?"bg-amber-600 text-white shadow-md":"bg-amber-100 text-amber-800 hover:bg-amber-200"),children:e},e))),A&&t.jsx("button",{onClick:()=>O(null),className:"px-2 py-1 text-xs text-amber-800 hover:text-amber-600",children:"Resetează filtrul"})]})})]}),0===q.length?t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[t.jsx("div",{className:"mb-4 text-amber-500",children:t.jsx(u,{size:40,className:"mx-auto"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Niciun articol găsit"}),t.jsx("p",{className:"text-gray-600",children:"Nu am găsit articole care să corespundă criteriilor tale de căutare. Încearcă să folosești alte cuvinte cheie."}),M||A?t.jsx("button",{onClick:()=>{P(""),O(null)},className:"mt-4 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors",children:"Resetează filtrele"}):null]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:q.map((e=>t.jsx("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden transform hover:-translate-y-1 group",children:t.jsxs("div",{className:"cursor-pointer h-full flex flex-col",onClick:()=>W(e.id),children:[e.imageUrl?t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"}),t.jsx("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsxs("div",{className:"absolute bottom-3 left-3 z-20 flex gap-2",children:[t.jsx("div",{className:"text-white flex items-center justify-center rounded-full w-8 h-8 "+(Q(e.id)?"bg-amber-600":"bg-amber-800"),children:Q(e.id)?t.jsx(b,{size:15}):t.jsx(g,{size:15})}),e.readCount&&e.readCount>0&&t.jsxs("div",{className:"bg-black/30 text-white text-xs rounded-full px-2 py-1 flex items-center",children:[t.jsx(f,{className:"mr-1"})," ",e.readCount]})]})]}):t.jsx("div",{className:"h-24 bg-gradient-to-r from-amber-100 to-amber-200 flex items-center justify-center",children:t.jsx("div",{className:"text-amber-800 flex items-center justify-center rounded-full w-12 h-12 bg-white/80 "+(Q(e.id)?"border-2 border-amber-500":""),children:Q(e.id)?t.jsx(b,{size:24}):t.jsx(g,{size:24})})}),t.jsxs("div",{className:"p-5 flex-grow flex flex-col",children:[t.jsxs("div",{className:"flex justify-between items-start mb-2",children:[t.jsx("div",{className:"text-xs text-amber-800 font-medium bg-amber-50 px-2 py-1 rounded-md",children:e.date}),Q(e.id)&&t.jsxs("span",{className:"text-xs text-amber-600 flex items-center",children:[t.jsx(p,{className:"mr-1"})," Citit"]})]}),t.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2 group-hover:text-amber-700 transition-colors",children:e.title}),t.jsx("p",{className:"text-gray-600 mb-4 flex-grow",children:e.preview}),e.tags&&e.tags.length>0&&t.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(((e,a)=>t.jsx("span",{className:"px-2 py-0.5 bg-amber-50 text-amber-700 rounded-full text-xs",children:e},a))),e.tags.length>3&&t.jsxs("span",{className:"text-xs text-gray-500",children:["+",e.tags.length-3]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[t.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[t.jsx(j,{className:"mr-1"})," ",e.author]}),t.jsx("button",{className:"flex items-center text-amber-600 hover:text-amber-800 text-sm font-medium transition-colors",onClick:t=>{t.stopPropagation(),W(e.id)},children:"Citește articolul"})]})]})]})},e.id)))})]}),C&&t.jsx(D,{article:I.find((e=>e.id===C)),onClose:()=>k(null)})]})})};export{L as default};
